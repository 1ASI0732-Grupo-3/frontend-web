import{a as $}from"./chunk-S5AWGB4U.js";import{a as P}from"./chunk-UX2XIPUK.js";import"./chunk-HGCZPB4I.js";import{a as Z}from"./chunk-S5IXTXH2.js";import"./chunk-6PRDA76Z.js";import{a as q,b as z,c as B,d as H,e as j,f as G,g as R,h as U,i as Y,j as J,k as K,l as Q,m as X}from"./chunk-URCBRLE2.js";import{$ as A,D as o,F as E,G as V,K as v,O as l,P as e,Q as t,R as h,S as T,T as y,U as b,V as _,X as x,Z as d,_ as D,ba as C,ca as M,da as S,ka as L,la as N,ma as F,sa as W,u,v as f,w as k,x as w}from"./chunk-SK7NGN37.js";function ee(i,a){i&1&&(e(0,"div",40),d(1," Product name is required "),t())}function te(i,a){if(i&1&&(e(0,"option",41),d(1),t()),i&2){let s=a.$implicit,p=b();l("value",s),o(),A(" ",p.getCategoryDisplayName(s)," ")}}function ne(i,a){i&1&&(e(0,"div",40),d(1," Please select a category "),t())}function ie(i,a){i&1&&(e(0,"span"),d(1,"Stock quantity is required"),t())}function re(i,a){i&1&&(e(0,"span"),d(1,"Stock must be 0 or greater"),t())}function oe(i,a){if(i&1&&(e(0,"div",40),v(1,ie,2,0,"span",42)(2,re,2,0,"span",42),t()),i&2){b();let s=_(35);o(),l("ngIf",s.errors==null?null:s.errors.required),o(),l("ngIf",s.errors==null?null:s.errors.min)}}function ae(i,a){i&1&&(e(0,"span"),d(1,"Expiration date is required"),t())}function de(i,a){if(i&1&&(e(0,"div",40),v(1,ae,2,0,"span",42),t()),i&2){b();let s=_(41);o(),l("ngIf",s.errors==null?null:s.errors.required)}}function le(i,a){i&1&&h(0,"div",43)}function se(i,a){if(i&1&&(e(0,"div",44),k(),e(1,"svg",10),h(2,"path",45),t(),w(),e(3,"span"),d(4),t()()),i&2){let s=b();o(4),D(s.successMessage)}}function ce(i,a){if(i&1&&(e(0,"div",46),k(),e(1,"svg",10),h(2,"path",47),t(),w(),e(3,"span"),d(4),t()()),i&2){let s=b();o(4),D(s.errorMessage)}}var be=(()=>{let a=class a{constructor(p,g){this.inventoryService=p,this.router=g,this.formData={name:"",category:"",stock:0,expirationDate:new Date,minStockLevel:10},this.availableCategories=Object.values(P),this.submitting=!1,this.successMessage="",this.errorMessage="",this.sidebarOpen=!1;let n=new Date;this.todayDate=n.toISOString().split("T")[0]}getCategoryDisplayName(p){return{[P.MEDICINES]:"Medicines",[P.FOOD]:"Food",[P.VACCINES]:"Vaccines",[P.SUPPLEMENTS]:"Supplements"}[p]||p}onSubmit(){if(!this.formData.name||!this.formData.category||!this.formData.expirationDate)return;this.submitting=!0,this.errorMessage="",this.successMessage="";let p={name:this.formData.name,category:this.formData.category,stock:this.formData.stock,expirationDate:new Date(this.formData.expirationDate),minStockLevel:this.formData.minStockLevel||10};this.inventoryService.createProduct(p).subscribe({next:g=>{this.submitting=!1,this.successMessage=`Product "${g.name}" has been added successfully!`,setTimeout(()=>{this.clearForm(),this.successMessage="",this.router.navigate(["/inventory"])},2e3)},error:g=>{this.submitting=!1,this.errorMessage="Failed to add product. Please try again.",console.error("Error adding product:",g)}})}clearForm(){this.formData={name:"",category:"",stock:0,expirationDate:new Date,minStockLevel:10},this.successMessage="",this.errorMessage=""}goBack(){this.router.navigate(["/inventory"])}toggleSidebar(p){this.sidebarOpen=p}};a.\u0275fac=function(g){return new(g||a)(E($),E(W))},a.\u0275cmp=V({type:a,selectors:[["app-add-inventory-product"]],decls:57,vars:28,consts:[["productForm","ngForm"],["nameInput","ngModel"],["categoryInput","ngModel"],["stockInput","ngModel"],["expirationInput","ngModel"],[1,"add-product-container"],[3,"sidebarToggle","isOpen"],[1,"main-content"],[1,"add-product-header"],[1,"menu-button",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","currentColor"],["d","M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"],[1,"back-button",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.42-1.41L7.83 13H20v-2z"],[1,"header-title"],[1,"add-product-content","fade-in"],[1,"form-card"],[1,"product-form",3,"ngSubmit"],[1,"form-group"],["for","name",1,"form-label"],["type","text","id","name","name","name","required","","placeholder","Enter product name",1,"form-input",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","category",1,"form-label"],["id","category","name","category","required","",1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","stock",1,"form-label"],["type","number","id","stock","name","stock","required","","min","0","placeholder","Enter stock quantity",1,"form-input",3,"ngModelChange","ngModel"],["for","expirationDate",1,"form-label"],["type","date","id","expirationDate","name","expirationDate","required","",1,"form-input",3,"ngModelChange","ngModel","min"],["for","minStockLevel",1,"form-label"],["type","number","id","minStockLevel","name","minStockLevel","min","0","placeholder","Enter minimum stock level",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn-content"],["class","loading-spinner",4,"ngIf"],["class","success-message",4,"ngIf"],["class","error-banner",4,"ngIf"],[1,"error-message"],[3,"value"],[4,"ngIf"],[1,"loading-spinner"],[1,"success-message"],["d","M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"],[1,"error-banner"],["d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"]],template:function(g,n){if(g&1){let m=T();e(0,"div",5)(1,"app-sidebar",6),y("sidebarToggle",function(r){return u(m),f(n.toggleSidebar(r))}),t(),e(2,"div",7)(3,"header",8)(4,"button",9),y("click",function(){return u(m),f(n.toggleSidebar(!0))}),k(),e(5,"svg",10),h(6,"path",11),t()(),w(),e(7,"button",12),y("click",function(){return u(m),f(n.goBack())}),k(),e(8,"svg",13),h(9,"path",14),t()(),w(),e(10,"div",15),d(11,"Add Product"),t()(),e(12,"div",16)(13,"div",17)(14,"form",18,0),y("ngSubmit",function(){return u(m),f(n.onSubmit())}),e(16,"div",19)(17,"label",20),d(18,"Name"),t(),e(19,"input",21,1),S("ngModelChange",function(r){return u(m),M(n.formData.name,r)||(n.formData.name=r),f(r)}),t(),v(21,ee,2,0,"div",22),t(),e(22,"div",19)(23,"label",23),d(24,"Category"),t(),e(25,"select",24,2),S("ngModelChange",function(r){return u(m),M(n.formData.category,r)||(n.formData.category=r),f(r)}),e(27,"option",25),d(28,"Select category"),t(),v(29,te,2,2,"option",26),t(),v(30,ne,2,0,"div",22),t(),e(31,"div",19)(32,"label",27),d(33,"Stock"),t(),e(34,"input",28,3),S("ngModelChange",function(r){return u(m),M(n.formData.stock,r)||(n.formData.stock=r),f(r)}),t(),v(36,oe,3,2,"div",22),t(),e(37,"div",19)(38,"label",29),d(39,"Expiration date"),t(),e(40,"input",30,4),S("ngModelChange",function(r){return u(m),M(n.formData.expirationDate,r)||(n.formData.expirationDate=r),f(r)}),t(),v(42,de,2,1,"div",22),t(),e(43,"div",19)(44,"label",31),d(45,"Minimum stock level (optional)"),t(),e(46,"input",32),S("ngModelChange",function(r){return u(m),M(n.formData.minStockLevel,r)||(n.formData.minStockLevel=r),f(r)}),t()(),e(47,"div",33)(48,"button",34),y("click",function(){return u(m),f(n.clearForm())}),d(49," Clear "),t(),e(50,"button",35)(51,"div",36),v(52,le,1,0,"div",37),e(53,"span"),d(54),t()()()()(),v(55,se,5,1,"div",38)(56,ce,5,1,"div",39),t()()()()}if(g&2){let m=_(15),c=_(20),r=_(26),I=_(35),O=_(41);o(),l("isOpen",n.sidebarOpen),o(3),x("hidden-desktop",!0),o(15),x("error",c.touched&&c.invalid),C("ngModel",n.formData.name),o(2),l("ngIf",c.touched&&c.invalid),o(4),x("error",r.touched&&r.invalid),C("ngModel",n.formData.category),o(4),l("ngForOf",n.availableCategories),o(),l("ngIf",r.touched&&r.invalid),o(4),x("error",I.touched&&I.invalid),C("ngModel",n.formData.stock),o(2),l("ngIf",I.touched&&I.invalid),o(4),x("error",O.touched&&O.invalid),C("ngModel",n.formData.expirationDate),l("min",n.todayDate),o(2),l("ngIf",O.touched&&O.invalid),o(4),C("ngModel",n.formData.minStockLevel),o(2),l("disabled",n.submitting),o(2),l("disabled",m.invalid||n.submitting),o(2),l("ngIf",n.submitting),o(2),D(n.submitting?"Adding...":"Add Product"),o(),l("ngIf",n.successMessage),o(),l("ngIf",n.errorMessage)}},dependencies:[F,L,N,X,G,Y,J,q,R,U,z,B,Q,K,j,H,Z],styles:[".add-product-container[_ngcontent-%COMP%]{display:flex;min-height:100vh;min-height:100dvh;background:var(--light-gray)}.main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-height:100vh;min-height:100dvh;width:0}.add-product-header[_ngcontent-%COMP%]{background:var(--dark-green);color:var(--white);padding:16px 20px;display:flex;align-items:center;gap:16px;position:sticky;top:0;z-index:100}.menu-button[_ngcontent-%COMP%], .back-button[_ngcontent-%COMP%]{background:none;border:none;color:var(--white);cursor:pointer;padding:8px;border-radius:8px;transition:var(--transition);display:flex;align-items:center;justify-content:center}.menu-button[_ngcontent-%COMP%]:hover, .back-button[_ngcontent-%COMP%]:hover{background:#ffffff1a}.header-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.add-product-content[_ngcontent-%COMP%]{flex:1;padding:30px 20px;max-width:600px;margin:0 auto;width:100%}.form-card[_ngcontent-%COMP%]{background:var(--light-beige);border-radius:var(--border-radius);padding:32px;box-shadow:0 4px 12px #0000000d}.product-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.form-label[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--text-dark);margin-bottom:4px}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{padding:16px;border:2px solid #e1e5e9;border-radius:12px;font-size:16px;color:var(--text-dark);background:var(--white);transition:var(--transition)}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--dark-green);box-shadow:0 0 0 3px #2e7d321a}.form-input.error[_ngcontent-%COMP%], .form-select.error[_ngcontent-%COMP%]{border-color:#f44336;box-shadow:0 0 0 3px #f443361a}.form-input[_ngcontent-%COMP%]::placeholder{color:#999}.error-message[_ngcontent-%COMP%]{color:#f44336;font-size:14px;margin-top:4px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:16px}.btn[_ngcontent-%COMP%]{padding:16px 32px;border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;transition:var(--transition);display:flex;align-items:center;justify-content:center;min-height:56px}.btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.6}.btn-secondary[_ngcontent-%COMP%]{background:var(--white);color:var(--text-dark);border:2px solid #e1e5e9;flex:1}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#f5f5f5}.btn-primary[_ngcontent-%COMP%]{background:var(--dark-green);color:var(--white);flex:2}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#1b5e20;transform:translateY(-2px);box-shadow:0 4px 12px #2e7d324d}.btn-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.loading-spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top:2px solid var(--white);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.success-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:#e8f5e8;color:#2e7d32;border-radius:12px;margin-top:24px;font-weight:500}.error-banner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:#ffebee;color:#c62828;border-radius:12px;margin-top:24px;font-weight:500}@media (max-width: 768px){.add-product-content[_ngcontent-%COMP%]{padding:20px 15px}.form-card[_ngcontent-%COMP%]{padding:24px}.form-actions[_ngcontent-%COMP%]{flex-direction:column}}@media (min-width: 1024px){.hidden-desktop[_ngcontent-%COMP%]{display:none!important}.add-product-header[_ngcontent-%COMP%]{background:var(--light-gray);color:var(--dark-green);padding:20px}}"]});let i=a;return i})();export{be as AddInventoryProductComponent};
