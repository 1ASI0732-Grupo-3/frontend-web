import{a as V}from"./chunk-S5AWGB4U.js";import"./chunk-HGCZPB4I.js";import{a as I}from"./chunk-S5IXTXH2.js";import"./chunk-6PRDA76Z.js";import{D as r,F as y,G as P,K as f,O as s,P as t,Q as e,R as p,S as C,T as u,U as m,X as M,Z as c,_ as g,ka as S,la as k,ma as O,sa as w,u as h,v as b,w as v,x}from"./chunk-SK7NGN37.js";function E(i,a){i&1&&(t(0,"div",16),p(1,"div",17),t(2,"p"),c(3,"Loading inventory data..."),e()())}function T(i,a){if(i&1){let n=C();t(0,"div",18)(1,"p"),c(2),e(),t(3,"button",19),u("click",function(){h(n);let o=m();return b(o.loadInventoryData())}),c(4,"Try Again"),e()()}if(i&2){let n=m();r(2),g(n.error)}}function z(i,a){if(i&1&&(t(0,"div",44)(1,"span",45),c(2),e(),t(3,"span",46),c(4),e()()),i&2){let n=a.$implicit;r(2),g(n.name),r(2),g(n.stock.toString().padStart(2,"0"))}}function L(i,a){if(i&1&&(t(0,"div",42),f(1,z,5,2,"div",43),e()),i&2){let n=m(2);r(),s("ngForOf",n.lowStockProducts)}}function D(i,a){if(i&1&&(t(0,"div",44)(1,"span",45),c(2),e(),t(3,"span",47),c(4),e()()),i&2){let n=a.$implicit,d=m(3);r(2),g(n.name),r(2),g(d.formatExpirationDate(n.expirationDate))}}function A(i,a){if(i&1&&(t(0,"div",42),f(1,D,5,2,"div",43),e()),i&2){let n=m(2);r(),s("ngForOf",n.expiringProducts)}}function F(i,a){if(i&1){let n=C();t(0,"div",20)(1,"div",21)(2,"div",22),v(),t(3,"svg",23),p(4,"path",24),e()(),x(),t(5,"div",25)(6,"h3",26),c(7,"Stored products"),e(),t(8,"div",27),c(9),e()(),t(10,"button",28),u("click",function(){h(n);let o=m();return b(o.viewProducts())}),v(),t(11,"svg",8),p(12,"path",29),e()()(),x(),t(13,"div",30)(14,"div",31)(15,"div",32),v(),t(16,"svg",5),p(17,"path",33),e()(),x(),t(18,"div",25)(19,"span",34),c(20,"Products with low stock"),e(),t(21,"div",35),c(22),e()()(),f(23,L,2,1,"div",36),e(),t(24,"div",37)(25,"div",31)(26,"div",38),v(),t(27,"svg",5),p(28,"path",39),e()(),x(),t(29,"div",25)(30,"span",40),c(31,"Products to expire"),e(),t(32,"div",41),c(33),e()()(),f(34,A,2,1,"div",36),e()()}if(i&2){let n=m();r(9),g((n.stats==null?null:n.stats.totalStoredProducts)||0),r(13),g((n.stats==null?null:n.stats.lowStockProducts)||0),r(),s("ngIf",n.lowStockProducts.length>0),r(10),g((n.stats==null?null:n.stats.expiringSoonProducts)||0),r(),s("ngIf",n.expiringProducts.length>0)}}function G(i,a){if(i&1){let n=C();t(0,"button",48),u("click",function(){h(n);let o=m();return b(o.addProduct())}),v(),t(1,"svg",5),p(2,"path",49),e()()}}var Y=(()=>{let a=class a{constructor(d,o){this.inventoryService=d,this.router=o,this.stats=null,this.lowStockProducts=[],this.expiringProducts=[],this.loading=!1,this.error="",this.sidebarOpen=!1}ngOnInit(){this.loadInventoryData()}loadInventoryData(){this.loading=!0,this.error="",Promise.all([this.inventoryService.getInventoryStats().toPromise(),this.inventoryService.getLowStockProducts().toPromise(),this.inventoryService.getExpiringProducts().toPromise()]).then(([d,o,l])=>{this.stats=d,this.lowStockProducts=o,this.expiringProducts=l,this.loading=!1}).catch(d=>{this.error="Failed to load inventory data. Please try again.",this.loading=!1,console.error("Error loading inventory data:",d)})}formatExpirationDate(d){let o=new Date(d),l=o.getDate().toString().padStart(2,"0"),_=o.toLocaleDateString("en",{month:"short"});return`${l}-${_}`}viewProducts(){this.router.navigate(["/inventory/products"])}addProduct(){this.router.navigate(["/inventory/add-product"])}goBack(){this.router.navigate(["/dashboard"])}toggleSidebar(d){this.sidebarOpen=d}};a.\u0275fac=function(o){return new(o||a)(y(V),y(w))},a.\u0275cmp=P({type:a,selectors:[["app-inventory"]],decls:17,vars:7,consts:[[1,"inventory-container"],[3,"sidebarToggle","isOpen"],[1,"main-content"],[1,"inventory-header"],[1,"menu-button",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","currentColor"],["d","M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"],[1,"back-button",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.42-1.41L7.83 13H20v-2z"],[1,"header-title"],[1,"inventory-content","fade-in"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","inventory-dashboard",4,"ngIf"],["class","fab",3,"click",4,"ngIf"],[1,"loading-state"],[1,"loading-spinner"],[1,"error-state"],[1,"btn","btn-primary",3,"click"],[1,"inventory-dashboard"],[1,"stats-card","main-card"],[1,"card-icon"],["width","48","height","48","viewBox","0 0 24 24","fill","currentColor"],["d","M12,18H6V14H12M21,14V12L20,7H4L3,12V14H4V20H14V14H18V20H20V14M12,16H6V18H12V16Z"],[1,"card-content"],[1,"card-title"],[1,"card-number"],[1,"card-info-btn",3,"click"],["d","M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z"],[1,"stats-card","alert-card"],[1,"card-header"],[1,"alert-icon"],["d","M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"],[1,"alert-text"],[1,"alert-number"],["class","product-list",4,"ngIf"],[1,"stats-card","expiring-card"],[1,"expiring-icon"],["d","M19,3H18V1H16V3H8V1H6V3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V8H19V19Z"],[1,"expiring-text"],[1,"expiring-number"],[1,"product-list"],["class","product-item",4,"ngFor","ngForOf"],[1,"product-item"],[1,"product-name"],[1,"product-stock"],[1,"product-date"],[1,"fab",3,"click"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"]],template:function(o,l){o&1&&(t(0,"div",0)(1,"app-sidebar",1),u("sidebarToggle",function(H){return l.toggleSidebar(H)}),e(),t(2,"div",2)(3,"header",3)(4,"button",4),u("click",function(){return l.toggleSidebar(!0)}),v(),t(5,"svg",5),p(6,"path",6),e()(),x(),t(7,"button",7),u("click",function(){return l.goBack()}),v(),t(8,"svg",8),p(9,"path",9),e()(),x(),t(10,"div",10),c(11,"Inventory"),e()(),t(12,"div",11),f(13,E,4,0,"div",12)(14,T,5,1,"div",13)(15,F,35,5,"div",14)(16,G,3,0,"button",15),e()()()),o&2&&(r(),s("isOpen",l.sidebarOpen),r(3),M("hidden-desktop",!0),r(9),s("ngIf",l.loading),r(),s("ngIf",l.error),r(),s("ngIf",!l.loading&&!l.error),r(),s("ngIf",!l.loading))},dependencies:[O,S,k,I],styles:[".inventory-container[_ngcontent-%COMP%]{display:flex;min-height:100vh;min-height:100dvh;background:var(--light-gray)}.main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-height:100vh;min-height:100dvh;width:0}.inventory-header[_ngcontent-%COMP%]{background:var(--dark-green);color:var(--white);padding:16px 20px;display:flex;align-items:center;gap:16px;position:sticky;top:0;z-index:100}.menu-button[_ngcontent-%COMP%], .back-button[_ngcontent-%COMP%]{background:none;border:none;color:var(--white);cursor:pointer;padding:8px;border-radius:8px;transition:var(--transition);display:flex;align-items:center;justify-content:center}.menu-button[_ngcontent-%COMP%]:hover, .back-button[_ngcontent-%COMP%]:hover{background:#ffffff1a}.header-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.inventory-content[_ngcontent-%COMP%]{flex:1;padding:30px 20px;max-width:800px;margin:0 auto;width:100%;position:relative}.inventory-dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.stats-card[_ngcontent-%COMP%]{background:var(--light-beige);border-radius:var(--border-radius);padding:24px;transition:var(--transition)}.main-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;position:relative;cursor:pointer}.main-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 25px #0000001f}.card-icon[_ngcontent-%COMP%]{color:var(--dark-green)}.card-content[_ngcontent-%COMP%]{flex:1}.card-title[_ngcontent-%COMP%]{font-size:16px;color:var(--text-dark);margin:0 0 8px}.card-number[_ngcontent-%COMP%]{font-size:48px;font-weight:700;color:var(--dark-green)}.card-info-btn[_ngcontent-%COMP%]{background:var(--white);border:none;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition);color:var(--text-dark)}.card-info-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0;transform:scale(1.1)}.alert-card[_ngcontent-%COMP%], .expiring-card[_ngcontent-%COMP%]{border:none}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:20px}.alert-icon[_ngcontent-%COMP%]{color:#ff6b6b}.expiring-icon[_ngcontent-%COMP%]{color:var(--text-dark)}.alert-text[_ngcontent-%COMP%], .expiring-text[_ngcontent-%COMP%]{font-size:14px;color:var(--text-dark);display:block;margin-bottom:4px}.alert-number[_ngcontent-%COMP%], .expiring-number[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:var(--dark-green)}.product-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.product-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:#ffffffb3;border-radius:8px}.product-name[_ngcontent-%COMP%]{font-size:14px;color:var(--text-dark)}.product-stock[_ngcontent-%COMP%], .product-date[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-dark)}.fab[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px;width:56px;height:56px;background:var(--dark-green);color:var(--white);border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 4px 20px #00000026;transition:var(--transition);z-index:50}.fab[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 6px 24px #0003}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid var(--dark-green);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}@media (max-width: 768px){.inventory-content[_ngcontent-%COMP%]{padding:20px 15px}.main-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.card-number[_ngcontent-%COMP%]{font-size:36px}}@media (min-width: 1024px){.hidden-desktop[_ngcontent-%COMP%]{display:none!important}.inventory-header[_ngcontent-%COMP%]{background:var(--light-gray);color:var(--dark-green);padding:20px}}"]});let i=a;return i})();export{Y as InventoryComponent};
