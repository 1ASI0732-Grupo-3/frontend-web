import{a as I}from"./chunk-LZTNGLUZ.js";import{a as g}from"./chunk-FYZU2BPS.js";import"./chunk-JJHZGF76.js";import{$ as h,D as o,F as v,G as k,K as f,O as m,P as t,Q as e,R as b,S as C,T as _,U as s,Y as D,Z as i,_ as l,la as O,ma as P,qa as y,sa as w,u as x,v as u,w as E,x as S}from"./chunk-SK7NGN37.js";function V(r,p){if(r&1&&(t(0,"div",16)(1,"span",17),i(2,"Target Animals"),e(),t(3,"span",18),i(4),e()()),r&2){let n=s(3);o(4),l(n.campaign.targetAnimals.join(", "))}}function L(r,p){if(r&1&&(t(0,"div",14)(1,"h3"),i(2,"Vaccination Details"),e(),t(3,"div",15)(4,"div",16)(5,"span",17),i(6,"Vaccine Type"),e(),t(7,"span",18),i(8),e()(),f(9,V,5,1,"div",23),e()()),r&2){let n=s(2);o(8),l(n.campaign.vaccineType),o(),m("ngIf",n.campaign.targetAnimals)}}function A(r,p){if(r&1){let n=C();t(0,"button",24),_("click",function(){x(n);let a=s(2);return u(a.editCampaign())}),i(1," Edit Campaign "),e()}}function z(r,p){if(r&1){let n=C();t(0,"div",4)(1,"div",5)(2,"button",6),_("click",function(){x(n);let a=s();return u(a.goBack())}),E(),t(3,"svg",7),b(4,"path",8),e()()(),S(),t(5,"div",9)(6,"div",10)(7,"h1",11),i(8),e(),t(9,"div",12),i(10),e()(),t(11,"div",13)(12,"div",14)(13,"h3"),i(14,"Campaign Information"),e(),t(15,"div",15)(16,"div",16)(17,"span",17),i(18,"Description"),e(),t(19,"span",18),i(20),e()(),t(21,"div",16)(22,"span",17),i(23,"Start Date"),e(),t(24,"span",18),i(25),e()(),t(26,"div",16)(27,"span",17),i(28,"End Date"),e(),t(29,"span",18),i(30),e()(),t(31,"div",16)(32,"span",17),i(33,"Duration"),e(),t(34,"span",18),i(35),e()()()(),f(36,L,10,2,"div",19),t(37,"div",14)(38,"h3"),i(39,"Timeline"),e(),t(40,"div",15)(41,"div",16)(42,"span",17),i(43,"Created"),e(),t(44,"span",18),i(45),e()(),t(46,"div",16)(47,"span",17),i(48,"Last Updated"),e(),t(49,"span",18),i(50),e()()()()(),t(51,"div",20)(52,"button",21),_("click",function(){x(n);let a=s();return u(a.goBack())}),i(53," Back to Campaigns "),e(),f(54,A,2,0,"button",22),e()()()}if(r&2){let n=s();o(8),l(n.campaign.name),o(),D("status-"+n.campaign.status),o(),h(" ",n.getStatusLabel(n.campaign.status)," "),o(10),l(n.campaign.description),o(5),l(n.formatDate(n.campaign.startDate)),o(5),l(n.formatDate(n.campaign.endDate)),o(5),h("",n.calculateDuration()," days"),o(),m("ngIf",n.campaign.vaccineType),o(9),l(n.formatDate(n.campaign.createdAt)),o(5),l(n.formatDate(n.campaign.updatedAt)),o(4),m("ngIf",n.canEdit())}}function B(r,p){r&1&&(t(0,"div",25),b(1,"div",26),t(2,"p"),i(3,"Loading campaign details..."),e()())}function j(r,p){if(r&1){let n=C();t(0,"div",27)(1,"p"),i(2),e(),t(3,"button",24),_("click",function(){x(n);let a=s();return u(a.goBack())}),i(4,"Go Back"),e()()}if(r&2){let n=s();o(2),l(n.error)}}var G=(()=>{let p=class p{constructor(c,a,d){this.route=c,this.router=a,this.campaignService=d,this.campaign=null,this.loading=!1,this.error=""}ngOnInit(){this.route.params.subscribe(c=>{let a=c.id;a&&this.loadCampaignDetails(a)})}loadCampaignDetails(c){this.loading=!0,this.error="";let a=parseInt(c,10);this.campaignService.getCampaignById(a).subscribe({next:d=>{this.campaign=d,this.loading=!1},error:d=>{this.error="Failed to load campaign details. Please try again.",this.loading=!1,console.error("Error loading campaign details:",d)}})}formatDate(c){if(!c)return"N/A";let a=new Date(c),d=a.getDate().toString().padStart(2,"0"),M=(a.getMonth()+1).toString().padStart(2,"0"),T=a.getFullYear();return`${d}/${M}/${T}`}calculateDuration(){if(!this.campaign)return 0;let c=new Date(this.campaign.startDate),a=new Date(this.campaign.endDate),d=Math.abs(a.getTime()-c.getTime());return Math.ceil(d/(1e3*60*60*24))}getStatusLabel(c){switch(c){case g.ACTIVE:return"Active";case g.COMPLETED:return"Completed";case g.SCHEDULED:return"Scheduled";case g.CANCELLED:return"Cancelled";default:return"Unknown"}}canEdit(){return this.campaign?.status!==g.COMPLETED}editCampaign(){this.campaign&&this.router.navigate(["/campaigns",this.campaign.id,"edit"])}goBack(){this.router.navigate(["/campaigns"])}};p.\u0275fac=function(a){return new(a||p)(v(y),v(w),v(I))},p.\u0275cmp=k({type:p,selectors:[["app-campaign-detail"]],decls:4,vars:3,consts:[[1,"campaign-detail-container"],["class","campaign-detail-content fade-in",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"campaign-detail-content","fade-in"],[1,"detail-header"],[1,"back-button",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","currentColor"],["d","M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.42-1.41L7.83 13H20v-2z"],[1,"campaign-card"],[1,"campaign-header"],[1,"campaign-name"],[1,"campaign-status"],[1,"campaign-details"],[1,"detail-section"],[1,"detail-grid"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],["class","detail-section",4,"ngIf"],[1,"campaign-actions"],[1,"btn","btn-secondary",3,"click"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","detail-item",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"loading-state"],[1,"loading-spinner"],[1,"error-state"]],template:function(a,d){a&1&&(t(0,"div",0),f(1,z,55,12,"div",1)(2,B,4,0,"div",2)(3,j,5,1,"div",3),e()),a&2&&(o(),m("ngIf",d.campaign&&!d.loading),o(),m("ngIf",d.loading),o(),m("ngIf",d.error))},dependencies:[P,O],styles:[".campaign-detail-container[_ngcontent-%COMP%]{min-height:100vh;background:var(--light-gray);padding:20px}.campaign-detail-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.detail-header[_ngcontent-%COMP%]{margin-bottom:20px;padding-top:20px}.back-button[_ngcontent-%COMP%]{background:var(--white);border:none;border-radius:12px;width:48px;height:48px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition);color:var(--dark-green);box-shadow:0 2px 8px #0000001a}.back-button[_ngcontent-%COMP%]:hover{transform:translate(-2px);box-shadow:0 4px 12px #00000026}.campaign-card[_ngcontent-%COMP%]{background:var(--white);border-radius:20px;padding:40px;box-shadow:0 10px 30px #0000001a}.campaign-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:40px;padding-bottom:20px;border-bottom:2px solid var(--light-beige)}.campaign-name[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:var(--text-dark);margin:0 20px 0 0;flex:1}.campaign-status[_ngcontent-%COMP%]{font-size:14px;font-weight:600;padding:8px 16px;border-radius:20px;text-transform:uppercase;letter-spacing:.5px}.status-active[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.status-completed[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.status-scheduled[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.status-cancelled[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.campaign-details[_ngcontent-%COMP%]{margin-bottom:40px}.detail-section[_ngcontent-%COMP%]{margin-bottom:30px}.detail-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--dark-green);margin-bottom:20px;padding-bottom:10px;border-bottom:1px solid #e0e0e0}.detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.detail-label[_ngcontent-%COMP%]{font-size:14px;color:#666;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.detail-value[_ngcontent-%COMP%]{font-size:16px;color:var(--text-dark);font-weight:500}.campaign-actions[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:flex-end;padding-top:20px;border-top:1px solid #e0e0e0}.btn[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;font-weight:600;border-radius:var(--border-radius);border:none;cursor:pointer;transition:var(--transition)}.btn-primary[_ngcontent-%COMP%]{background:var(--dark-green);color:var(--white)}.btn-primary[_ngcontent-%COMP%]:hover{background:#024a1c;transform:translateY(-2px)}.btn-secondary[_ngcontent-%COMP%]{background:var(--light-beige);color:var(--dark-green)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f0d99b;transform:translateY(-2px)}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;color:#666}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid var(--dark-green);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-state[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;color:#666}@media (max-width: 768px){.campaign-detail-container[_ngcontent-%COMP%]{padding:15px}.campaign-card[_ngcontent-%COMP%]{padding:25px}.campaign-name[_ngcontent-%COMP%]{font-size:24px}.campaign-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}.detail-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.campaign-actions[_ngcontent-%COMP%]{flex-direction:column}}"]});let r=p;return r})();export{G as CampaignDetailComponent};
